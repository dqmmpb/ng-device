!function(i){"use strict";i.module("ng.device").service("deviceUtils",["device",function(i){this.isMobile=function(){return device.ios},this.isAndroid=function(){return device.android},this.isIOS=function(){return device.ios}}]).factory("device",["$window",function(e){var o={},s=navigator.userAgent,n=s.match(/(Android);?[\s\/]+([\d.]+)?/),t=s.match(/(iPad).*OS\s([\d_]+)/),r=s.match(/(iPod)(.*OS\s([\d_]+))?/),a=!t&&s.match(/(iPhone\sOS)\s([\d_]+)/);if(o.ios=o.android=o.iphone=o.ipad=o.androidChrome=!1,n&&(o.os="android",o.osVersion=n[2],o.android=!0,o.androidChrome=s.toLowerCase().indexOf("chrome")>=0),(t||a||r)&&(o.os="ios",o.ios=!0),a&&!r&&(o.osVersion=a[2].replace(/_/g,"."),o.iphone=!0),t&&(o.osVersion=t[2].replace(/_/g,"."),o.ipad=!0),r&&(o.osVersion=r[3]?r[3].replace(/_/g,"."):null,o.iphone=!0),o.ios&&o.osVersion&&s.indexOf("Version/")>=0&&"10"===o.osVersion.split(".")[0]&&(o.osVersion=s.toLowerCase().split("version/")[1].split(" ")[0]),o.webView=(a||t||r)&&s.match(/.*AppleWebKit(?!.*Safari)/i),o.os&&"ios"===o.os){var d=o.osVersion.split(".");o.minimalUi=!o.webView&&(r||a)&&(1*d[0]===7?1*d[1]>=1:1*d[0]>7)&&i.element('meta[name="viewport"]').length>0&&i.element('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=window.outerWidth,l=window.outerHeight;return o.statusBar=!1,o.statusBar=o.webView&&c*l===screen.width*screen.height?!0:!1,o.pixelRatio=window.devicePixelRatio||1,o.isWeixin=/MicroMessenger/i.test(s),o}]).directive("device",["device",function(i){return{restrict:"A",link:function(e,o){var s=[];if(s.push("pixel-ratio-"+Math.floor(i.pixelRatio)),i.pixelRatio>=2&&s.push("retina"),i.os&&(s.push(i.os,i.os+"-"+i.osVersion.split(".")[0],i.os+"-"+i.osVersion.replace(/\./g,"-")),"ios"===i.os))for(var n=parseInt(i.osVersion.split(".")[0],10),t=n-1;t>=6;t--)s.push("ios-gt-"+t);o.addClass(s.length>0?s.join(" "):"")}}}])}(angular);