!function(i){"use strict";i.module("ng-device",["reTree"]).service("deviceUtils",["device",function(i){this.isMobile=function(){return device.ios},this.isAndroid=function(){return device.android},this.isIOS=function(){return device.ios}}]).factory("device",["$window",function(i){var e={},o=navigator.userAgent,s=o.match(/(Android);?[\s\/]+([\d.]+)?/),n=o.match(/(iPad).*OS\s([\d_]+)/),t=o.match(/(iPod)(.*OS\s([\d_]+))?/),r=!n&&o.match(/(iPhone\sOS)\s([\d_]+)/);if(e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,s&&(e.os="android",e.osVersion=s[2],e.android=!0,e.androidChrome=o.toLowerCase().indexOf("chrome")>=0),(n||r||t)&&(e.os="ios",e.ios=!0),r&&!t&&(e.osVersion=r[2].replace(/_/g,"."),e.iphone=!0),n&&(e.osVersion=n[2].replace(/_/g,"."),e.ipad=!0),t&&(e.osVersion=t[3]?t[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&o.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=o.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(r||n||t)&&o.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var a=e.osVersion.split(".");e.minimalUi=!e.webView&&(t||r)&&(1*a[0]===7?1*a[1]>=1:1*a[0]>7)&&document.getElementsByName("viewport").length>0&&document.getElementsByName("viewport")[0].attributes.content.value.indexOf("minimal-ui")>=0}var d=window.outerWidth,c=window.outerHeight;return e.statusBar=!1,e.statusBar=e.webView&&d*c===screen.width*screen.height?!0:!1,e.pixelRatio=window.devicePixelRatio||1,e.isWeixin=/MicroMessenger/i.test(o),e}]).directive("device",["device",function(i){return{restrict:"A",link:function(e,o){var s=[];if(s.push("pixel-ratio-"+Math.floor(i.pixelRatio)),i.pixelRatio>=2&&s.push("retina"),i.os&&(s.push(i.os,i.os+"-"+i.osVersion.split(".")[0],i.os+"-"+i.osVersion.replace(/\./g,"-")),"ios"===i.os))for(var n=parseInt(i.osVersion.split(".")[0],10),t=n-1;t>=6;t--)s.push("ios-gt-"+t);o.addClass(s.length>0?s.join(" "):"")}}}])}(angular);